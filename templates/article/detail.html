{% extends 'base.html' %}

{% block content %}
  <article class="article-detail">
    <h1>{{ article.title }}</h1>
    <p><strong>By:</strong> {{ article.author.username }}</p>
    <p>{{ article.description }}</p>
  </article>

  <section class="comments-section">
    <h2>Comments</h2>

    {% if article.comments.exists %}
      {% for c in article.comments.all %}
        <div class="comment">
          <p><strong>{{ c.writer.username }}</strong> said:</p>
          <p>{{ c.comment }}</p>
          <hr>
        </div>
      {% endfor %}
    {% else %}
      <p>No comments yet. Be the first to comment!</p>
    {% endif %}
  </section>

  <section class="comment-form">
    <h3>Add a Comment</h3>
    <form method="POST" action="">
      {% csrf_token %}
      {{ form.as_p }}
      <button type="submit" class="btn">Submit</button>
    </form>
  </section>
{% endblock content %}